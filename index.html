<!DOCTYPE html>
<html>
  <head>

  </head>
  <style>
    #dot {
      position: fixed;
      margin: 2%;
      border: 1px solid black;
      border-radius: 90%;
      background-color: red;
    }

    #enemy {
      position: fixed;
      border: 1px solid red;
      border-radius: 90%;
      background-color: yellow;
    }
    #finish {
      margin: 1%;
      height: 15%;
      width: 7%;
    }
  </style>

  <body>
    <div id="dot"></div>
    <div id="enemy"></div>
    <img src="https://images.unsplash.com/photo-1518709268805-4e9042af9f23?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60" id='finish'>
    </img>
    <script>


      var dot = document.getElementById('dot');
    /*-----------------------------
            movements
    -------------------------------*/
      var x = 50;
      var y = 50;
      var pad = 1.00;
    /*-----------------------------
             player object
    ------------------------------*/
      var player = {
        location: function(y, x) {dot.style.top = y + '%'; dot.style.left = x + '%'},
        move: function(ySpeed, xSpeed) {
          x += xSpeed;
          y += ySpeed;
          player.location(y, x);
        },
        size: function(shrink) {dot.style.padding = (pad += shrink) + '%'},
      };

    /*-----------------------------
               follower
    ------------------------------*/

    var enemy = document.getElementById('enemy');
    var enemyX = 75;
    var enemyY = 75;
    enemy.style.padding = pad + '%';
    enemy.style.left = enemyX + '%';
    enemy.style.top = enemyY + '%';

    var follow = function() {
      var distance, distX, distY;
      if (enemyY > y) {
        enemy.style.top = (enemyY -= .1) + '%';
        distY = enemyY - y;
      } else {
        enemy.style.top = (enemyY += .1) + '%';
        distY = y - enemyY;
      }
      if (enemyX > x) {
        enemy.style.left = (enemyX -= .1) + '%';
        distX = enemyX - x;
      } else {
        enemy.style.left = (enemyX += .1) + '%';
        distX = x - enemyX;
      }
      distance = distX + distY
      enemy.textContent = [Math.floor(enemyY), Math.floor(y)];

      if (distance < 1) {
        player.size(-.01)
      }
      window.requestAnimationFrame(follow);
    }

    /*-----------------------------
              boundaries
    ------------------------------*/

    // if ((x < 7 && y < 20)) {
        //   player.move(speed, speed)
        //   player.size(-.010)
        // }
    /*-----------------------------
              movements
    ------------------------------*/
      var direction = {};
      const up = 87;
      const down = 83;
      const right = 68;
      const left = 65;
      const speed = .01;

      window.onkeydown = window.onkeyup = function(e) {
        direction[e.keyCode] = e.type === 'keydown';
        direct(direction[e.keyCode], direction[e.keyCode])
      }

      var direct = function() {
        if (direction[up] && direction[right]) {
          player.move(-speed, speed)
        } else if (direction[up] && direction[left]) {
          player.move(-speed, -speed);
        } else if (direction[down] && direction[right]) {
          player.move(speed, speed);
        } else if (direction[down] && direction[left]) {
          player.move(speed, -speed);
        } else if (direction[up]) {
          player.move(-speed, 0);
        } else if (direction[down]) {
          player.move(speed, 0);
        } else if (direction[left]) {
          player.move(0, -speed);
        } else if (direction[right]) {
          player.move(0, speed);
        }
        requestAnimationFrame(direct)
      }
    /*-----------------------------------
              starting / refresh
    ------------------------------------*/
      window.onload = function() {
      dot.style.top = y + '%';
      dot.style.left = x + '%';
      dot.style.padding = pad + '%';
      follow()
      }
    </script>

  </body>
</html>